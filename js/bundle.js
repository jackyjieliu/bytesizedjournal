function Debouncer(e){this.callback=e,this.ticking=!1}window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,Fluid.utils={listenScroll:function(e){e=new Debouncer(e);return window.addEventListener("scroll",e,!1),e.handleEvent(),e},unlistenScroll:function(e){window.removeEventListener("scroll",e)},listenDOMLoaded(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",function(){e()})},scrollToElement:function(e,t){e=jQuery(e).offset();e&&jQuery("html,body").animate({scrollTop:e.top+(t||0),easing:"swing"})},elementVisible:function(e,t){t=t&&0<=t?t:0;var e=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;return 0<=e.top&&e.top<=n*(1+t)+e.height/2||0<=e.bottom&&e.bottom<=n*(1+t)+e.height/2},waitElementVisible:function(e,n,i){var t="undefined"!=typeof window,o=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent);function r(t){Fluid.utils.listenDOMLoaded(function(){var e;Fluid.utils.elementVisible(t,i)?n():"IntersectionObserver"in window?new IntersectionObserver(function(e,t){e[0].isIntersecting&&(n(),t.disconnect())},{threshold:[0],rootMargin:(window.innerHeight||document.documentElement.clientHeight)*i+"px"}).observe(t):e=Fluid.utils.listenScroll(function(){Fluid.utils.elementVisible(t,i)&&(Fluid.utils.unlistenScroll(e),n())})})}t&&!o&&(i=i&&0<=i?i:0,"string"==typeof e?this.waitElementLoaded(e,function(e){r(e)}):r(e))},waitElementLoaded:function(i,o){var e="undefined"!=typeof window,t=e&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent);e&&!t&&("MutationObserver"in window?new MutationObserver(function(e,t){var n=document.querySelector(i);n&&(o(n),t.disconnect())}).observe(document,{childList:!0,subtree:!0}):Fluid.utils.listenDOMLoaded(function(){function t(){var e=document.querySelector(i);e?o(e):setTimeout(t,100)}t()}))},createScript:function(e,t){var n=document.createElement("script"),e=(n.setAttribute("src",e),n.setAttribute("type","text/javascript"),n.setAttribute("charset","UTF-8"),n.async=!1,"function"==typeof t&&(window.attachEvent?n.onreadystatechange=function(){var e=n.readyState;"loaded"!==e&&"complete"!==e||(n.onreadystatechange=null,t())}:n.onload=t),document.getElementsByTagName("script")),e=0<e.length?e[e.length-1]:document.head||document.documentElement;e.parentNode.insertBefore(n,e.nextSibling)},createCssLink:function(e){var t=document.createElement("link"),e=(t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("link")[0]||document.getElementsByTagName("head")[0]||document.head||document.documentElement);e.parentNode.insertBefore(t,e)},loadComments:function(e,t){var n=document.querySelector("#comments[lazyload]");n?Fluid.utils.waitElementVisible(e,function(){t(),n.removeAttribute("lazyload")},CONFIG.lazyload.offset_factor):t()},getBackgroundLightness(e){var t=e,e=((t="string"==typeof e?document.querySelector(e):t).ownerDocument.defaultView||window).getComputedStyle(t).backgroundColor.replace(/rgba*\(/,"").replace(")","").split(/,\s*/);return e.length<3?0:0==(t=.213*e[0]+.715*e[1]+.072*e[2])||127.5<t?1:-1},retry(e,t,n){var i;n<=0||(i=function(){0<=--n&&!e()&&setTimeout(i,t)},setTimeout(i,t))}},Debouncer.prototype={constructor:Debouncer,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}};!function(n,l){var s=l.documentElement,u="Fluid_Color_Scheme",t="--color-mode",d="data-user-color-scheme",r="data-default-color-scheme",g="#color-toggle-icon";function m(e){try{return localStorage.getItem(e)}catch(e){return null}}function a(){var e=getComputedStyle(s).getPropertyValue(t);return"string"==typeof e?e.replace(/["'\s]/g,""):null}function h(){s.setAttribute(d,v());var e=u;try{localStorage.removeItem(e)}catch(e){}}var f={dark:!0,light:!0};function v(){var e="string"==typeof(e=s.getAttribute(r))?e.replace(/["'\s]/g,""):null;return f[e]||(e=a(),f[e])?e:18<=(e=(new Date).getHours())||0<=e&&e<=6?"dark":"light"}function o(e){var t,r,e=e||m(u)||v();if(e===v())h();else{if(!f[e])return void h();s.setAttribute(d,e)}var a=e,o=(f[a]&&(t=y("dark"),a&&(t=y(a)),(o=l.querySelector(g))?(o.setAttribute("class","iconfont "+t),o.setAttribute("data",b[a])):Fluid.utils.waitElementLoaded(g,function(){var e=l.querySelector(g);e&&(e.setAttribute("class","iconfont "+t),e.setAttribute("data",b[a]))}),l.documentElement.getAttribute("data-user-color-scheme"))&&(o=getComputedStyle(l.documentElement).getPropertyValue("--navbar-bg-color").trim(),l.querySelector('meta[name="theme-color"]').setAttribute("content",o)),e),i=l.getElementById("highlight-css"),c=l.getElementById("highlight-css-dark"),i=("dark"===o?(c&&c.removeAttribute("disabled"),i&&i.setAttribute("disabled","")):(i&&i.removeAttribute("disabled"),c&&c.setAttribute("disabled","")),setTimeout(function(){l.querySelectorAll(".markdown-body pre").forEach(e=>{var t=0<=Fluid.utils.getBackgroundLightness(e)?"code-widget-light":"code-widget-dark",e=e.querySelector(".code-widget-light, .code-widget-dark");e&&(e.classList.remove("code-widget-light","code-widget-dark"),e.classList.add(t))})},200),e),c=(n.REMARK42&&n.REMARK42.changeTheme(i),n.CUSDIS&&n.CUSDIS.setTheme(i),l.querySelector(".utterances-frame"));c&&(r="dark"===i?n.UtterancesThemeDark:n.UtterancesThemeLight,c.contentWindow.postMessage({type:"set-theme",theme:r},"https://utteranc.es")),(c=l.querySelector("iframe.giscus-frame"))&&(r={setConfig:{theme:"dark"===i?n.GiscusThemeDark:n.GiscusThemeLight}},c.style.cssText+="color-scheme: normal;",c.contentWindow.postMessage({giscus:r},"https://giscus.app"))}var b={dark:"light",light:"dark"};function y(e){return"icon-"+e}function i(){var e=m(u);if(f[e])e=b[e];else{if(null!==e)return;var t=l.querySelector(g);t&&(e=t.getAttribute("data")),t&&f[e]||(e=b[a()])}var t=u,r=e;try{localStorage.setItem(t,r)}catch(e){}return e}o(),Fluid.utils.waitElementLoaded(g,function(){o();var t,e=l.querySelector("#color-toggle-btn");e&&(e.addEventListener("click",function(){o(i())}),t=l.querySelector(g))&&(e.addEventListener("mouseenter",function(){var e=t.getAttribute("data");t.classList.replace(y(b[e]),y(e))}),e.addEventListener("mouseleave",function(){var e=t.getAttribute("data");t.classList.replace(y(e),y(b[e]))}))}),Fluid.utils.waitElementLoaded("iframe",function(){o()})}(window,document);HTMLElement.prototype.wrap=function(e){this.parentNode.insertBefore(e,this),this.parentNode.removeChild(this),e.appendChild(this)},Fluid.events={registerNavbarEvent:function(){var e,o=jQuery("#navbar");0!==o.length&&(e=jQuery("#navbar .dropdown-menu"),0<o.offset().top&&(o.removeClass("navbar-dark"),e.removeClass("navbar-dark")),Fluid.utils.listenScroll(function(){o[50<o.offset().top?"addClass":"removeClass"]("top-nav-collapse"),e[50<o.offset().top?"addClass":"removeClass"]("dropdown-collapse"),0<o.offset().top?o.removeClass("navbar-dark"):o.addClass("navbar-dark"),e.removeClass("navbar-dark")}),jQuery("#navbar-toggler-btn").on("click",function(){jQuery(".animated-icon").toggleClass("open"),jQuery("#navbar").toggleClass("navbar-col-show")}))},registerParallaxEvent:function(){var r,n=jQuery('#banner[parallax="true"]');0!==n.length&&0!==(r=jQuery("#board")).length&&Fluid.utils.listenScroll(function(){var e=jQuery(window).scrollTop()/5,o=96+parseInt(r.css("margin-top"),10),o=(n.css({transform:"translate3d(0,"+(e=o<e?o:e)+"px,0)"}),jQuery(".side-col"));o&&o.css({"padding-top":e+"px"})})},registerScrollDownArrowEvent:function(){var e=jQuery(".scroll-down-bar");0!==e.length&&e.on("click",function(){Fluid.utils.scrollToElement("#board",-jQuery("#navbar").height())})},registerScrollTopArrowEvent:function(){var o,r,n,e,t,a=jQuery("#scroll-top-button");0!==a.length&&0!==(o=jQuery("#board")).length&&(n=r=!1,(e=function(){var e=o[0].getClientRects()[0].right,e=document.body.offsetWidth-e;r=50<=e,a.css({bottom:r&&n?"20px":"-60px",right:e-64+"px"})})(),jQuery(window).resize(e),t=o.offset().top,Fluid.utils.listenScroll(function(){var e=document.body.scrollTop+document.documentElement.scrollTop;n=t<=e,a.css({bottom:r&&n?"20px":"-60px"})}),a.on("click",function(){jQuery("body,html").animate({scrollTop:0,easing:"swing"})}))},registerImageLoadedEvent:function(){if("NProgress"in window){var e,o=document.getElementById("banner"),o=(o&&(o=o.style.backgroundImage.match(/\((.*?)\)/)[1].replace(/(['"])/g,""),(e=new Image).onload=function(){window.NProgress&&window.NProgress.inc(.2)},e.src=o,e.complete)&&e.onload(),jQuery("main img:not([lazyload])")),r=o.length;for(const e of o){const n=e.onload;e.onload=function(){n&&n(),window.NProgress&&window.NProgress.inc(.5/r)},e.complete&&e.onload()}}},registerRefreshCallback:function(e){Array.isArray(Fluid.events._refreshCallbacks)||(Fluid.events._refreshCallbacks=[]),Fluid.events._refreshCallbacks.push(e)},refresh:function(){if(Array.isArray(Fluid.events._refreshCallbacks))for(var e of Fluid.events._refreshCallbacks)e instanceof Function&&e()},billboard:function(){"console"in window&&console.log(`
-------------------------------------------------
|                                               |
|      ________  __            _        __      |
|     |_   __  |[  |          (_)      |  ]     |
|       | |_ \\_| | | __   _   __   .--.| |      |
|       |  _|    | |[  | | | [  |/ /'\`\\' |      |
|      _| |_     | | | \\_/ |, | || \\__/  |      |
|     |_____|   [___]'.__.'_/[___]'.__.;__]     |
|                                               |
|            Powered by Hexo x Fluid            |
| https://github.com/fluid-dev/hexo-theme-fluid |
|                                               |
-------------------------------------------------
    `)}};HTMLElement.prototype.wrap=function(e){this.parentNode.insertBefore(e,this),this.parentNode.removeChild(this),e.appendChild(this)},Fluid.plugins={typing:function(e){var a;"Typed"in window&&((a=new window.Typed("#subtitle",{strings:["  ",e],cursorChar:CONFIG.typing.cursorChar,typeSpeed:CONFIG.typing.typeSpeed,loop:CONFIG.typing.loop})).stop(),(e=document.getElementById("subtitle"))&&(e.innerText=""),jQuery(document).ready(function(){a.start()}))},fancyBox:function(e){CONFIG.image_zoom.enable&&"fancybox"in jQuery&&(jQuery(e||".markdown-body :not(a) > img, .markdown-body > img").each(function(){var e,a,t=jQuery(this),n=t.attr("data-src")||t.attr("src")||"",i=(CONFIG.image_zoom.img_url_replace&&(a=(e=CONFIG.image_zoom.img_url_replace)[0]||"",e=e[1]||"",a)&&(n=/^re:/.test(a)?(a=a.replace(/^re:/,""),i=new RegExp(a,"gi"),n.replace(i,e)):n.replace(a,e)),t.wrap(`
        <a class="fancybox fancybox.image" href="${n}"
          itemscope itemtype="http://schema.org/ImageObject" itemprop="url"></a>`).parent("a"));0!==i.length&&(t.is(".group-image-container img")?i.attr("data-fancybox","group").attr("rel","group"):i.attr("data-fancybox","default").attr("rel","default"),a=t.attr("title")||t.attr("alt"))&&i.attr("title",a).attr("data-caption",a)}),jQuery.fancybox.defaults.hash=!1,jQuery(".fancybox").fancybox({loop:!0,helpers:{overlay:{locked:!1}}}))},imageCaption:function(e){CONFIG.image_caption.enable&&jQuery(e||`.markdown-body > p > img, .markdown-body > figure > img,
      .markdown-body > p > a.fancybox, .markdown-body > figure > a.fancybox`).each(function(){var e=jQuery(this),a=e.next("figcaption");0!==a.length?a.addClass("image-caption"):(a=e.attr("title")||e.attr("alt"))&&e.after(`<figcaption aria-hidden="true" class="image-caption">${a}</figcaption>`)})},codeWidget(){var t,n=CONFIG.code_language.enable&&CONFIG.code_language.default,i=CONFIG.copy_btn&&"ClipboardJS"in window;(n||i)&&(t="",t+='<div class="code-widget">LANG</div>',jQuery(".markdown-body pre").each(function(){var e,a=jQuery(this);0<a.find("code.mermaid").length||0<a.find("span.line").length||(e="",n&&(e=CONFIG.code_language.default,0<a[0].children.length&&2<=a[0].children[0].classList.length&&a.children().hasClass("hljs")?e=a[0].children[0].classList[1]:a[0].getAttribute("data-language")?e=a[0].getAttribute("data-language"):a.parent().hasClass("sourceCode")&&0<a[0].children.length&&2<=a[0].children[0].classList.length?(e=a[0].children[0].classList[1],a.parent().addClass("code-wrapper")):a.parent().hasClass("markdown-body")&&0===a[0].classList.length&&a.wrap('<div class="code-wrapper"></div>'),e=e.toUpperCase().replace("NONE",CONFIG.code_language.default)),a.append(t.replace("LANG",e).replace('code-widget">',(e=a[0],(0<=Fluid.utils.getBackgroundLightness(e)?"code-widget-light":"code-widget-dark")+(i?' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>':' code-widget">')))),i&&new ClipboardJS(".copy-btn",{target:function(e){for(var a=e.parentNode.childNodes,t=0;t<a.length;t++)if("CODE"===a[t].tagName)return a[t]}}).on("success",function(e){e.clearSelection(),e.trigger.innerHTML=e.trigger.innerHTML.replace("icon-copy","icon-success"),setTimeout(function(){e.trigger.innerHTML=e.trigger.innerHTML.replace("icon-success","icon-copy")},2e3)}))}))}};!function(){for(const t of document.querySelectorAll("img[lazyload]"))Fluid.utils.waitElementVisible(t,function(){t.removeAttribute("srcset"),t.removeAttribute("lazyload")},CONFIG.lazyload.offset_factor)}(window);!function(){var e=jQuery("#modalSearch"),t="#local-search-input",r="#local-search-result";e.on("show.bs.modal",function(){!function(e,t,r){"use strict";var l=jQuery(t),s=jQuery(r);if(0===l.length)throw Error("No element selected by the searchSelector");if(0===s.length)throw Error("No element selected by the resultSelector");-1===s.attr("class").indexOf("list-group-item")&&s.html('<div class="m-auto text-center"><div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div><br/>Loading...</div>'),jQuery.ajax({url:e,dataType:"xml",success:function(e){var t=jQuery("entry",e).map(function(){return{title:jQuery("title",this).text(),content:jQuery("content",this).text(),url:jQuery("url",this).text()}}).get();-1===s.html().indexOf("list-group-item")&&s.html(""),l.on("input",function(){var e=l.val(),u="",h=e.trim().toLowerCase().split(/[\s-]+/);return s.html(""),e.trim().length<=0?l.removeClass("invalid").removeClass("valid"):(t.forEach(function(e){var r,l,s=!0,t=(e.title&&""!==e.title.trim()||(e.title="Untitled"),e.title.trim()),n=t.toLowerCase(),i=e.content.trim().replace(/<[^>]+>/g,""),a=i.toLowerCase(),e=e.url,o=-1,c=-1;CONFIG.include_content_in_search&&""===a?s=!1:h.forEach(function(e,t){r=n.indexOf(e),o=a.indexOf(e),r<0&&o<0?s=!1:(o<0&&(o=0),0===t&&(c=o))}),s&&(u+="<a href='"+e+"' class='list-group-item list-group-item-action font-weight-bolder search-list-title'>"+t+"</a>",e=i,0<=c)&&(t=c+80,(t=0===(i=(i=c-20)<0?0:i)?100:t)>e.length&&(t=e.length),l=e.substring(i,t),h.forEach(function(e){var t=new RegExp(e,"gi");l=l.replace(t,'<span class="search-word">'+e+"</span>")}),u+="<p class='search-list-content'>"+l+"...</p>")}),-1===u.indexOf("list-group-item")?l.addClass("invalid").removeClass("valid"):(l.addClass("valid").removeClass("invalid"),void s.html(u)))})}})}(CONFIG.search_path||"/local-search.xml",t,r)}),e.on("shown.bs.modal",function(){jQuery("#local-search-input").focus()}),e.on("hidden.bs.modal",function(){!function(e,t){"use strict";if(e=jQuery(e),t=jQuery(t),0===e.length)throw Error("No element selected by the searchSelector");if(0===t.length)throw Error("No element selected by the resultSelector");e.val("").removeClass("invalid").removeClass("valid"),t.html("")}(t,r)})}();Fluid.boot={},Fluid.boot.registerEvents=function(){Fluid.events.billboard(),Fluid.events.registerNavbarEvent(),Fluid.events.registerParallaxEvent(),Fluid.events.registerScrollDownArrowEvent(),Fluid.events.registerScrollTopArrowEvent(),Fluid.events.registerImageLoadedEvent()},Fluid.boot.refresh=function(){Fluid.plugins.fancyBox(),Fluid.plugins.codeWidget(),Fluid.events.refresh()},document.addEventListener("DOMContentLoaded",function(){Fluid.boot.registerEvents()});